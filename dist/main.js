(()=>{"use strict";var e,a={},t={};function l(e){var s=t[e];if(void 0!==s)return s.exports;var o=t[e]={exports:{}};return a[e](o,o.exports,l),o.exports}l.m=a,l.d=(e,a)=>{for(var t in a)l.o(a,t)&&!l.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:a[t]})},l.f={},l.e=e=>Promise.all(Object.keys(l.f).reduce(((a,t)=>(l.f[t](e,a),a)),[])),l.u=e=>e+".main.js",l.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),l.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),e={},l.l=(a,t,s,o)=>{if(e[a])e[a].push(t);else{var n,r;if(void 0!==s)for(var i=document.getElementsByTagName("script"),m=0;m<i.length;m++){var d=i[m];if(d.getAttribute("src")==a){n=d;break}}n||(r=!0,(n=document.createElement("script")).charset="utf-8",n.timeout=120,l.nc&&n.setAttribute("nonce",l.nc),n.src=a),e[a]=[t];var c=(t,l)=>{n.onerror=n.onload=null,clearTimeout(u);var s=e[a];if(delete e[a],n.parentNode&&n.parentNode.removeChild(n),s&&s.forEach((e=>e(l))),t)return t(l)},u=setTimeout(c.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=c.bind(null,n.onerror),n.onload=c.bind(null,n.onload),r&&document.head.appendChild(n)}},l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;l.g.importScripts&&(e=l.g.location+"");var a=l.g.document;if(!e&&a&&(a.currentScript&&(e=a.currentScript.src),!e)){var t=a.getElementsByTagName("script");if(t.length)for(var s=t.length-1;s>-1&&!e;)e=t[s--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),l.p=e})(),(()=>{var e={179:0};l.f.j=(a,t)=>{var s=l.o(e,a)?e[a]:void 0;if(0!==s)if(s)t.push(s[2]);else{var o=new Promise(((t,l)=>s=e[a]=[t,l]));t.push(s[2]=o);var n=l.p+l.u(a),r=new Error;l.l(n,(t=>{if(l.o(e,a)&&(0!==(s=e[a])&&(e[a]=void 0),s)){var o=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;r.message="Loading chunk "+a+" failed.\n("+o+": "+n+")",r.name="ChunkLoadError",r.type=o,r.request=n,s[1](r)}}),"chunk-"+a,a)}};var a=(a,t)=>{var s,o,[n,r,i]=t,m=0;if(n.some((a=>0!==e[a]))){for(s in r)l.o(r,s)&&(l.m[s]=r[s]);i&&i(l)}for(a&&a(t);m<n.length;m++)o=n[m],l.o(e,o)&&e[o]&&e[o][0](),e[o]=0},t=self.webpackChunk=self.webpackChunk||[];t.forEach(a.bind(null,0)),t.push=a.bind(null,t.push.bind(t))})();const s=l.e(215).then(l.bind(l,215)).then((e=>e.load()));class o{constructor(e){this.code=e,this.success=0,this.name="errHandle"}}class n{constructor(){var e=Math.floor(Date.now()/1e3);this.id=e.toString(16)+[...Array(16)].map((()=>Math.floor(16*Math.random()).toString(16))).join("")}}var r={closeDDowns:()=>{[...r.getByTag("details")].forEach((e=>{e.removeAttribute("open")}))},makeDatesArr:(e,a)=>{var t=[],l=moment(e);for(a=moment(a);l<=a;)t.push(moment(l).format("YYYY-MM-DD")),l=moment(l).add(1,"days");return t},intersect:(e,a)=>_.intersection(e,a),header:e=>[m("div",{class:"hero min-h-fit bg-base-100"},m("div",{class:"hero-content text-center"},m("div",{class:"max-w-lg"},m({view:()=>e}))))],getVar:e=>e.match(/(\b[^\s]+\b)/g),lockInput(e,a){var t=r.getById(e.target.id);t&&(""==t.value.trim()?(t.classList.remove("input-accent"),t.classList.add("input-error"),r.tell("error",a,5e3,(()=>{})),t.focus()):(t.classList.add("input-accent"),t.classList.remove("input-error")))},getValues(){var e=[...r.getByTag("input")],a=[];e.forEach((e=>{e.hasAttribute("id")&&a.push(e.id)})),console.log(a);var t={},l={},s=[];a.forEach((e=>{var a=r.getById(e).value.trim();Object.assign(t,{[e]:a}),Object.assign(l,{[e]:r.getById(e).dataset.name}),""!=a&&null!=a||s.push(1)}));var o=[t,l];return s.length>0&&(o=null,r.tell("warning","Ada isian yang masih kosong",2121,(()=>null))),o},mdlData:null,typeRumus:null,typeIKK:null,admMenu:!1,kecMenu:!1,desMenu:!1,entitasAktif:null,logout:()=>{sessionStorage.removeItem(r.lsname),r.admMenu=null,r.logged=null,r.username=null,r.loginBtnDisabled=!1,m.route.set("/"),m.redraw()},checkAdm:e=>{null==e&&(e=()=>{}),r.islogged(!0)&&r.logged.map((e=>{("superadmin"==e||"admin"==e)&&(r.admMenu=!0)})),e()},ObjectID:()=>(new n).id,tunda:(e,a)=>{var t=setTimeout((()=>{e(),clearTimeout(t)}),a)},withThis:(e,a)=>a(e),username:null,fullname:null,loginBtnDisabled:!1,logged:null,lsname:"googlechrome",getls:e=>{const a=sessionStorage.getItem(e);if(!a)return null;const t=JSON.parse(a),l=new Date;var s=t.expiry-l.getTime(),o=Math.floor(s/1e3/60);if(console.log("difference = "+o+" minute/s "),o<15){var n={};Object.assign(n,{fullname:t.fullname,user:t.user,token:t.token,roles:t.roles,expiry:l.getTime()+36e5}),t.opd&&Object.assign(n,{opd:t.opd}),sessionStorage.removeItem(e),r.setls(JSON.stringify(n))}return l.getTime()>t.expiry?(sessionStorage.removeItem(e),null):t},setls:e=>{sessionStorage.setItem(r.lsname,e)},tell:(e,a,t,l)=>{null!=t||(t=5e3),null!=l||(l=()=>{});var s,o=["info","success","warning","error","query"],n=r.ObjectID();!o.includes(e)&&console.log("type not define");var i=null;o.forEach(((a,t)=>{e==a&&(i=t)})),s="alert-"+o[i],console.log(s);var d=[m("div",{class:"toast"},m("div",{class:"alert "+s},m("span",{class:"loading loading-ring loading-md"}),m("span",{class:"capitalize"},e+": "+a),m("div",["alert-query"==s?m("button",{class:"btn btn-sm btn-primary",onclick:()=>{l(),c(n)}},"Lanjut"):null,m("button",{class:"btn btn-sm btn-secondary btn-outline btn-active ml-1",onclick:()=>{c(n)}},"alert-query"==s?"Batal":"X")])))],c=e=>{r.getById(e).remove()},u=document.createElement("div");u.id=n,document.getElementsByTagName("body")[0].appendChild(u);var g=r.getById(n);m.render(g,m({view:()=>d})),r.tunda((()=>{r.getById(n)&&c(n),l()}),t)},tell2:(e,a,t,l)=>{var s;null!=t||(t=3e3),null!=l||(l=()=>{}),"success"==e?s="Berhasil":"error"==e?s="Error":"warning"==e?s="Perhatian":"question"==e&&(s="Konfirmasi");var o={buttons:[["<button><b>Lanjut</b></button>",(e,a)=>{e.hide({transitionOut:"fadeOut"},a,"button"),l()},!0],["<button>Batal</button>",(e,a)=>(e.hide({transitionOut:"fadeOut"},a,"button"),!1)]]},n={onClosed:l},r={title:s,message:a,timeout:t};"question"==e?_.assign(r,o):_.assign(r,n),iziToast[e](r)},islogged:e=>{var a=r.getls(r.lsname);if(null!==a){var t=a.roles;return r.username=a.user,r.fullname=a.fullname,r.loginBtnDisabled=!0,r.logged=t,t.map((e=>{Object.assign(r,{[e]:!0})})),a}r.logged=null,null==e&&r.tell("error","waktu login habis, atau anda belum login, mohon login kembali",1500,(()=>{r.username=null,r.fullname=null,r.loginBtnDisabled=!1,r.logged=null,m.route.set("/")}))},getById:e=>document.getElementById(e),getByCN:e=>document.getElementsByClassName(e),getByName:e=>document.getElementsByName(e),getByTag:e=>document.getElementsByTagName(e),getqsAll:e=>document.querySelectorAll(e),mdl:{Joy:"lutju sekali"},makeModal:(e,a,t)=>(t=null==t||null==t||0==t?"":"w-11/12 max-w-5xl",m("dialog",{class:"modal",id:"modalicious"},m("form",{class:"modal-box "+t,method:"dialog"},[m("button",{class:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2"},"✕"),e,m("div",{class:"modal-action"},m("button",{class:"btn btn-sm btn-accent",onclick:()=>a()},"Kirim"),m("button",{class:"btn btn-sm  btn-error"},"Batal"))]))),showModal:()=>{r.mdl=r.getById("modalicious"),r.mdl.showModal(),console.log("modal shown")},closeMdl:()=>{r.mdl.close()},makeModalToo:e=>[m("dialog",{class:"modal",id:"modalicious"},m("div",{class:"modal-box w-11/12 max-w-5xl"},[m("form",{method:"dialog"},m("button",{class:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2"},"✕")),e]))],makeModal5:e=>m(".modal",{class:r.mdl[e]&&"is-active"},m(".modal-background"),m(".modal-content",m(r.mdl[e])),m(".modal-close.is-large",{"aria-label":"close",onclick:()=>[r.mdl[e]=null,m.redraw()]})),formdata:null,form:(e,a,t,l,s,o)=>(null!=o||(o=()=>{}),null==s&&(s="column is-12"),m("div",{class:s},m(".box",m("form",{action:"#"},e[0].id?[e.map((e=>m(".field",m("label",{class:"label"},e.label),m(".control","select"==e.id.substring(0,6)?m("div",{class:"select"},m("select",{id:e.id},e.options.map((e=>m("option",{value:e.value},e.desc))))):m("input",{id:e.id,class:"input",type:e.type,placeholder:e.ph,value:e.value,disabled:e.disabled})))))]:m(".field",m("label",{class:"label"},a),m(".control",m("div",{class:"select"},m("select",{id:t},e.map((e=>m("option",{value:e.kode},e.desc))))))),m("div",{class:"control"},m("button",{id:"tombolKirim",class:"button is-link",onclick:a=>{(a=a||window.event).preventDefault();var t=[];e.map((e=>{t.push(e.id)}));var s={};t.map((e=>{_.assign(s,{[e]:r.getById(e).value})})),r.formdata=s,l()}},"Kirim"),m("button",{class:"button is-danger ml-2",onclick:e=>{e.preventDefault(),o()}},"Batal")))))),get:(e,a)=>{if(r.islogged())m.request({method:"GET",url:e}).then((e=>{console.log(e),e?(r.dataReturn=e,a()):(r.tell("error","API down or syntax error",1200,(()=>{})),r.dataReturn=e,a())})).catch((e=>{console.log(e),r.dataReturn=e,a()}));else{var t=window.location.href.split("/"),l=t[0]+"//"+t[2];r.tell("error","sesi login berakhir",699,(()=>{location.replace(l)}))}},cl:e=>console.log(e),isLetter:e=>/[a-zA-Z]/g.test(e),fpGen:s,comm:(e,a,t)=>{t||(t="json"),console.log("calling ref comm"),s.then((e=>e.get())).then((l=>{const s=l.visitorId;var n=r.islogged(!0);if(n)m.request({method:"POST",url:"./api/gate",headers:{Authorization:"Guntur"+n.token,Accept:"Accept:text/html,application/json,*/*",middlefinger2u:s,id:n.id},body:e,responseType:t}).then((t=>{if(console.log(t),t){if(0==t.success)throw console.log("return warning/error"),new o(t.status);console.log("data ok",e),r.dataReturn=t,a()}else console.log("data not exist/syntax error"),r.dataReturn=t,a()})).catch((e=>{r.dataReturn=e,a()}));else{var i=window.location.href.split("/");l=i[0]+"//"+i[2],r.tell("error","sesi login berakhir, mohon login kembali",1699,(()=>{location.replace(l)}))}})).catch((e=>console.error(e)))},comm2:(e,a,t)=>{var l,s;t||(t="json");var n=["golek","ngisi","owah","busak"],i={golek:null,ngisi:"simpan",owah:"update",busak:"hapus"};l=n.includes(e.arep)?e.nang:null,n.map((a=>{a==e.arep&&(s=i[a])})),m.request({method:"POST",url:"./api/news",headers:{Authorization:"Bearer Hamung SHAK",Accept:"Accept:text/html,application/json,*/*"},body:e,responseType:t}).then((t=>{if(console.log(e),console.log(t),t){if(0==t.success)throw console.log("return warning/error"),new o(t.status);console.log("data ok",s),r.dataReturn=t,a()}else console.log("data not exist/syntax error"),l&&s&&r.tell("error",s+" data pada table "+l+" gagal",1200,(()=>{})),r.dataReturn=t,a()})).catch((e=>{r.dataReturn=e,a()}))},comm3:(e,a,t)=>{var l,s;t||(t="json");var n=["golek","ngisi","owah","busak"],i={golek:null,ngisi:"simpan",owah:"update",busak:"hapus"};l=n.includes(e.arep)?e.nang:null,n.map((a=>{a==e.arep&&(s=i[a])})),m.request({method:"POST",url:"./api/start",headers:{Authorization:"Bearer HSHAK",Accept:"Accept:text/html,application/json,*/*"},body:e,responseType:t}).then((t=>{if(console.log(e),console.log(t),t){if(0==t.success)throw console.log("return warning/error"),new o(t.status);console.log("data ok",s),r.dataReturn=t,a()}else console.log("data not exist/syntax error"),l&&s&&r.tell("error",s+" data pada table "+l+" gagal",1200,(()=>{})),r.dataReturn=t,a()})).catch((e=>{r.dataReturn=e,a()}))},comm4:(e,a,t)=>{var l,s;t||(t="json");var n=["golek","ngisi","owah","busak"],i={golek:null,ngisi:"simpan",owah:"update",busak:"hapus"};l=n.includes(e.arep)?e.nang:null,n.map((a=>{a==e.arep&&(s=i[a])})),m.request({method:"POST",url:"./api/daftar",headers:{Accept:"Accept:text/html,application/json,*/*"},body:e,responseType:t}).then((t=>{if(console.log(e),console.log(t),t){if(0==t.success)throw console.log("return warning/error"),new o(t.status);r.dataReturn=t,a()}else console.log("data not exist/syntax error"),l&&s&&r.tell("error",s+" data pada table "+l+" gagal",1200,(()=>{})),r.dataReturn=t,a()})).catch((e=>{r.dataReturn=e,a()}))},comm5:(e,a,t)=>{var l,s;t||(t="json");var n=["golek","ngisi","owah","busak"],i={golek:null,ngisi:"simpan",owah:"update",busak:"hapus"};l=n.includes(e.arep)?e.nang:null,n.map((a=>{a==e.arep&&(s=i[a])})),m.request({method:"POST",url:"./api/start",headers:{Accept:"Accept:text/html,application/json,*/*"},body:e,responseType:t}).then((t=>{if(console.log(e),console.log(t),t){if(0==t.success)throw console.log("return warning/error"),new o(t.status);console.log("data ok",s),r.dataReturn=t,a()}else console.log("data not exist/syntax error"),l&&s&&r.tell("error",s+" data pada table "+l+" gagal",1200,(()=>{})),r.dataReturn=t,a()})).catch((e=>{r.dataReturn=e,a()}))},dataReturn:null,titleCase:e=>e.toLowerCase().replace(/(^|\s)\S/g,(e=>e.toUpperCase())),getSecondPart:e=>e.split(" ").slice(1).join(" "),getFirstPart:e=>e.split(" ")[0],customSort:(e,a,t)=>{var l={asc:function(e,a){for(var t=0,l=Math.min(e.value.length,a.value.length);t<l&&e.value[t]===a.value[t];)t++;return t===l?e.value.length-a.value.length:e.value[t]-a.value[t]},desc:function(e,a){return l.asc(a,e)}},s=e.map((function(e,t){return{index:t,value:e[a].split(".").map(Number)}}));return s.sort(l[t]||l.asc),s.map((function(a){return e[a.index]}))},autoNumEls:[],autoNumOpsiRp:{digitGroupSeparator:".",decimalCharacter:",",currencySymbol:"Rp",currencySymbolPlacement:AutoNumeric.options.currencySymbolPlacement.prefix,roundingMethod:AutoNumeric.options.roundingMethod.halfUpSymmetric},autoNum:e=>{var a=r.getById(e);if(null===AutoNumeric.getAutoNumericElement(a)){var t=new AutoNumeric(a,r.autoNumOpsiRp);r.autoNumEls.push(t)}},autoNumRemove:()=>{r.autoNumEls.forEach((e=>{e.remove()})),r.autoNumEls=[]},checkInputs:e=>{var a=[];return e.forEach(((e,t)=>{"string"!=typeof e&&(e=e.toString()),_.isEmpty(e)&&a.push(t)})),a},chunkArray:(e,a)=>e.length>a?[e.slice(0,a),...r.chunkArray(e.slice(a),a)]:[e],showModalicious:(e,a,t)=>{var l=m({view:()=>m("div",{class:"modal is-active",id:"modalicious"},m("div",{class:"modal-background"}),m("div",{class:"modal-card"},m("header",{class:"modal-card-head"},m("p",{class:"modal-card-title"},e),m("button",{class:"delete","aria-label":"close",onclick:()=>r.removeMdl()})),m("section",{class:"modal-card-body"},m({view:()=>a})),m("footer",{class:"modal-card-foot"},m({view:()=>t}),m("button",{class:"button is-danger is-outlined",onclick:()=>r.removeMdl()},"Batal"))))});return m.redraw(),l},showModalToo:(e,a,t)=>{var l=m({view:()=>m("div",{class:"modal is-active"},m("div",{class:"modal-background"}),m("div",{class:"modal-card"},m("header",{class:"modal-card-head"},m("p",{class:"modal-card-title"},e),m("button",{class:"delete","aria-label":"close",onclick:()=>r.removeMdl()})),m("section",{class:"modal-card-body"},m({view:()=>a})),m("footer",{class:"modal-card-foot"},m({view:()=>t}),m("button",{class:"button is-danger is-outlined",onclick:()=>r.removeMdl()},"Batal"))))});return m.redraw(),l},removeMdl:()=>{r.getByCN("modal")[0].classList.remove("is-active")},numFmt:(e,a)=>{var t;null==a&&(a=6),null==e&&(e=null),e&&(t=[...r.getByCN(e)]),t&&t.length>0&&(r.autoNumArr&&r.autoNumArr.forEach((e=>e.remove())),t.forEach((e=>{var t=new AutoNumeric(e,{decimalCharacter:",",digitGroupSeparator:".",unformatOnSubmit:!0,decimalPlaces:a,watchExternalChanges:!0});r.autoNumArr.push(t)})))},retNum:e=>{var a=r.getById(e);return AutoNumeric.getNumericString(a)},autoNumArr:[],polos:e=>e.replaceAll(".","").replace(",","."),cari:(e,a,t)=>{var l=r.getById(e).value.toUpperCase().split(" "),s=r.getById(a).getElementsByTagName("tr");for(let e=0;e<s.length;e++){const a=s[e].getElementsByTagName("td")[t];if(a){const t=a.textContent||a.innerText;for(var o of(s[e].style.display="none",l))t.toUpperCase().indexOf(o)>-1&&(s[e].style.display="")}}},fmtRp:e=>e.toLocaleString("id",{minimumFractionDigits:2,maximumFractionDigits:2}),urutFn:(e,a)=>{a(e)},gTab:(e,a,t)=>{null==t&&(t="table");var l=[],s=[],o=[],n=[];for(var i in console.log(a),a)a[i].map(((a,t)=>{var l={},d=[];a.map((e=>{var a,t={};_.forIn(e,((e,s)=>{"r"==s?_.assign(l,e):"d"==s?t=e:"c"==s&&(a=e)})),d.push(m("td",t,a))}));var c=[];"body"==i&&_.assign(l,{onclick:a=>{r.getById(e).querySelectorAll("tr").forEach((e=>{e.classList.remove("bg-accent"),e.classList.remove("rowSel"),e.classList.remove("text-white")}));for(var t=(a=a||window.event).target;t&&"TR"!==t.nodeName;)t=t.parentNode;t&&(t.classList.add("bg-accent"),t.classList.add("rowSel"),t.classList.add("text-white"))}}),c.push(m("tr",l,d)),"title"==i?o.push(c):"body"==i?s.push(c):n.push(c)}));return l.push(m("table",{class:t,id:e},m("thead",{class:""},o),m("tbody",{class:""},s),m("tfoot",{class:""},n))),l},gForm:(e,a,t,l,s)=>{null!=l||(l=!1),null!=s||(s=!1);var o,n=[],i=(e,a,t,l,s)=>{var o=" sm:col-start-"+a;return[m("div",{class:e<6?"sm:col-span-"+e+o:"col-span-full"+o},m("label",{class:"block text-sm font-medium leading-6 text-gray-900 mt-2",for:s},t),l)]},d="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6  ";return t.forEach((e=>{if(["text","email","textarea","file","tel","number"].includes(e.type)){d+="input ",e.autoNum&&(d+="autoNum "),"file"==e.type&&(d="file-input file-input-bordered w-full max-w-xs");var a=m("input",{class:d,id:e.id,name:e.id,type:e.type,required:e.required,"data-msg":e.dataMsg,placeholder:e.dataMsg,onblur:e.required?a=>{r.lockInput(a,e.dataMsg+" harus diisi!")}:null});n.push(i(e.col,e.colStart,e.label,a,e.id))}else if("cbr"==e.type){d="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-600";var t=[];e.forEach((a=>{"radio"==a.type?d+="radio":d+="checkbox",null==a.checked&&a.checked,t.push(m("div",{class:"flex h-6 items-center"},m("input",{class:d,id:a.label,name:a.label,"data-msg":a.lblHelper,type:a.type,checked:e.value==a.label||a.checked})),m("div",{class:"text-sm leading-6"},[m("label",{class:"font-medium text-gray-900 mt-2",for:a.label},a.label),m("p",{class:"text-gray-500"},a.lblHelper)]))})),n.push(m("fieldset",m("legend",{class:"text-sm font-semibold leading-6 text-gray-900 mt-2"},t),m("div",{class:"mt-6 space-y-6"},m("div",{class:"relative flex gap-x-3"},void 0))))}else"select"==e.type&&(d+="select",optionFill=()=>{var a=[];return e.selectOpt.forEach((t=>{a.push(m("option",{selected:e.value==t},t))})),a},a=m("div",{class:"mt-2"},m("select",{class:d,id:e.id,name:e.id,"data-msg":e.label},optionFill())),n.push(i(e.col,e.colStart,e.label,a,e.id)))})),o=n,[m("form",m("div",{class:"space-y-12"},m("div",{class:"border-b border-gray-900/10 pb-12"},[m("h2",{class:"text-base font-semibold leading-7 text-gray-900"},e),m("p",{class:"mt-1 text-sm leading-6 text-gray-600"},a),m("div",{class:"mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6"}),o])),s||l?m("div",{class:"mt-6 flex items-center justify-end gap-x-6"},[l?m("button",{class:"btn text-sm font-semibold leading-6 text-gray-900",type:"button",onclick:()=>{l()}},"Batal"):null,s?m("button",{class:"btn rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",type:"button",onclick:()=>{s()}},"Simpan"):null]):null)]}};const i=r;var d,c={body:null,modal:null,pemdaList:()=>{console.log("pemdaList called");var e=[],a=[{c:"Daftar Pemerintah Daerah",d:{colspan:"3",class:"text-center font-bold text-lg bg-base-200"}}];e.push(a),a=[{c:"No."},{c:"Kode Pemda"},{c:"Nama Pemda",r:{class:"font-black "}}],e.push(a);var t=null==c.body||0==c.body?[[{c:"Data masih kosong",d:{colspan:"3",class:"text-center  "}}]]:c.body,l=[];a=[{d:{colspan:3},c:m("p",{class:"buttons text-center"},[m("button",{class:"btn btn-success btn-sm",onclick:()=>{null==c.body?i.tell("warning","still loading",2500):i.showModal()}},m("span",{class:"icon w-8"},m("i",{class:"fa-solid fa-file-circle-plus"}))),m("button",{class:"btn btn-warning btn-sm ml-1",onclick:()=>{}},m("span",{class:"icon w-8"},m("i",{class:"fa-solid fa-folder-open"}))),m("button",{class:"btn btn-error btn-sm ml-1"},m("span",{class:"w-8"},m("i",{class:"fas fa-trash"})))])}],l.push(a),c.tabelPemda=m({view:()=>i.gTab("pemdaList",{title:e,body:t,bandeng:l})})},addPemda:()=>{var e=i.gForm("Pemda Baru","Kode dan Nama wajib diisi",[{type:"text",label:"Kode Pemda",id:"kode",dataMsg:"Kode Pemda",required:!0,col:6,colstart:1,val:null},{type:"text",label:"Nama Pemda",id:"nama",dataMsg:"Nama Pemda",required:!0,col:6,colstart:1,val:null}],(()=>{d.close()}),(e=>{var a=i.getValues();if(console.log(a),a){var t=a[0],l={method:"get",json:{kode:t.kode},tableName:"pemdaModel"};i.comm(l,(()=>{if(console.log(i.dataReturn),0==i.dataReturn.success){var e={method:"create",tableName:"pemdaModel",json:t};i.comm(e,(()=>{0==i.dataReturn.success?i.tell("error","gagal menyimpan data Pemda",3500):i.tell("success","data Pemda berhasil disimpan",2e3,(()=>{d.close(),c.showTab()}))}))}else i.tell("error","Kode Pemda sudah digunakan",3500)}))}}));return i.makeModalToo(m({view:()=>e}))},showTab:()=>{c.body=[[{c:"LOADING ... ",d:{colspan:"3",class:"text-center font-bold "}}]],m.redraw(),i.comm({method:"getAll",tableName:"pemdaModel"},(()=>{if(console.log(i.dataReturn),d=i.getById("modalicious"),0==i.dataReturn.success)c.body=!1;else{var e=[],a=0;i.dataReturn.message.forEach((t=>{var l=[{c:++a},{c:t.kode,r:{id:t._id}},{c:t.nama}];e.push(l)})),c.body=e}c.pemdaList()}))},tabelPemda:null,oninit:()=>{c.showTab()},oncreate:()=>{c.modal=c.addPemda()},view:()=>[m("div",{class:"text-3xl font-bold text-center mt-6"},"Solusi Teknologi Informasi"),m("p",{class:"text-2xl mb-4 text-center "},"Master Pemerintah Daerah"),m("div",{class:"flex justify-center items-center my-6"},m("div",{class:"preview border-base-300 bg-base-100 rounded-b-box rounded-tr-box flex min-h-[6rem] min-w-[36rem] max-w-4xl flex-wrap items-center justify-center gap-2 overflow-x-hidden border bg-cover bg-top p-4"},c.tabelPemda)),c.modal]};const u=c;var g,b=[{id:"Task 1",name:"Pemerintah Nusantara",start:"2023-03-28",end:"2023-12-31",progress:100,custom_class:"bar-milestone"},{id:"Task 2",name:"Kegiatan Bangun Negeri",start:"2023-03-28",end:"2023-12-31",progress:80,dependencies:"Task 1",custom_class:"bar-milestone"},{id:"Task 3",name:"Ir. Sukarno",start:"2023-03-28",end:"2023-03-30",progress:100,dependencies:"Task 2",custom_class:"bar-milestone"},{id:"Task 4",name:"Ir. Joko Widodo",start:"2023-06-01",end:"2023-12-31",progress:20,dependencies:"Task 2",custom_class:"bar-milestone"}],p={header_height:50,column_width:30,step:24,view_modes:["Quarter Day","Half Day","Day","Week","Month"],bar_height:20,bar_corner_radius:3,arrow_curve:5,padding:18,view_mode:"Month",date_format:"YYYY-MM-DD",language:"en",custom_popup_html:null},h={modal:null,pemdaList:()=>{var e=[],a=[{c:"Daftar Pemerintah Daerah",d:{colspan:"3",class:"text-center font-bold"}}];e.push(a);var t=[];a=[{d:{colspan:3},c:m("p",{class:"buttons"},[m("button",{class:"btn-primary btn-sm",onclick:()=>{}},m("span",{class:"icon is-small"},m("i",{class:"fa-solid fa-file-circle-plus"}))),m("button",{class:"btn-warning btn-sm",onclick:()=>{}},m("span",{class:"icon is-small"},m("i",{class:"fa-solid fa-folder-open"}))),m("button",{class:"btn-error btn-sm"},m("span",{class:"icon is-small"},m("i",{class:"fas fa-trash"})))])}],t.push(a);var l=i.gTab("histori",{title:e,body:[[{c:"Data masih kosong",d:{colspan:"3",class:"text-center font-bold"}}]],SHAK:t});h.modal=i.makeModal(l,(()=>console.log("wasu")),!0),g.showModal(),m.redraw(),console.log("done")},modal:i.makeModal(),content:e=>[m("div",{class:"text-3xl font-bold text-center mt-6"},"Solusi Teknologi Informasi"),m("p",{class:"text-2xl mb-4 text-center "},"Manajemen Tenaga Ahli"),null==e?m("p",{class:"text-xl text-center mb-5"},"Silakan login"):m("div",m("svg",{id:"gantt"}),m("div",{id:"viewMode"}),h.modal)],oninit:()=>{i.logged?p.view_mode="Month":m.route.set("/login")},oncreate:()=>{i.logged&&(new Gantt("#gantt",b,h.opts).change_view_mode("Month"),g=i.getById("modalicious"))},view:()=>{var e=i.fullname?i.fullname.charAt(0).toUpperCase()+i.fullname.slice(1):null;return h.content(e)}};const v=h;var f={oninit:()=>{i.checkAdm((()=>{console.log(i.logged,i.admMenu,i.admin)}))},oncreate:()=>{document.documentElement.addEventListener("click",(e=>{if("HTML"==e.target.tagName){var a=[...i.getByTag("details")];if(a){var t=[...i.getByTag("summary")];t&&t.length>0&&a[0].removeAttribute("open")}}}),!0)},admBurger:[m("a","Obyek Transaksi"),m("ul",{class:"p-2"},[m("li",m("a",{onclick:()=>m.route.set("/md_employees")},"Karyawan")),m("li",m("a","Vendor/Supplier"))]),m("li",m("a","Item 1")),m("li",[m("a","Parent"),m("ul",{class:"p-2"},[m("li",m("a","Submenu 1")),m("li",m("a","Submenu 2"))])]),m("li",m("a","Item 3"))],admMenu:[m("li",{tabindex:"0"},m("details",[m("summary","Master/Setup"),m("ul",{class:"p-2"},[m("li",m("a",{onclick:()=>{i.closeDDowns(),m.route.set("/pemda")}},"Pemda")),m("li",m("a",{onclick:()=>{i.closeDDowns(),m.route.set("/kegiatan")}},"Kegiatan")),m("li",m("a",{onclick:()=>{i.closeDDowns(),m.route.set("/ta")}},"Tenaga Ahli"))])])),m("li",m("a",{onclick:()=>{i.closeDDowns(),m.route.set("/task")}},"Penugasan"))],view:()=>m("div",{class:"navbar bg-base-200"},[m("div",{class:"navbar-start"},[m("div",{class:"dropdown"},[m("label",{class:"btn btn-ghost lg:hidden",tabindex:"0"},m("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h8m-8 6h16"}))),m("ul",{class:"menu menu-sm dropdown-content mt-3 p-2 shadow bg-base-100 rounded-box w-52",tabindex:"0"},i.admMenu?f.admBurger:null)]),m("a",{class:"btn btn-ghost normal-case text-xl",onclick:()=>{i.username?i.loginBtnDisabled=!0:i.loginBtnDisabled=!1,m.route.set("/")}},"veniCe")]),m("div",{class:"navbar-center hidden lg:flex"},m("ul",{class:"menu menu-horizontal px-1 z-10"},i.admMenu?f.admMenu:null)),m("div",{class:"navbar-end"},m("input",{class:"toggle",type:"checkbox",onclick:()=>{[...i.getByCN("toggle")][0].checked?document.documentElement.setAttribute("data-theme","dark"):document.documentElement.removeAttribute("data-theme")}}),i.username?m("div",{class:"dropdown dropdown-end ml-2"},[m("label",{class:"btn m-1",tabindex:"0"},i.username),m("ul",{class:"dropdown-content z-[1] menu p-2 shadow bg-base-100 rounded-box w-52",tabindex:"0"},[m("li",m("a",{onclick:()=>{i.tell("query","Anda yakin akan keluar?",2e4,(()=>{sessionStorage.removeItem(i.lsname),i.admMenu=null,i.logged=null,i.username=null,i.fullname=null,i.loginBtnDisabled=!1,i.tell("success","User telah log out",877,(()=>{m.redraw(),m.route.set("/")}))}))}},"Log out"))])]):m("a",{class:"btn ml-2",disabled:i.loginBtnDisabled,onclick:()=>{m.route.set("/login")}},"Sign in"))])};const w=f,y={view:()=>m("footer",{class:"footer p-10 bg-base-200 text-base-content"},[m("div",[m("img",{src:"/img/ven.png",width:"88",height:"78"}),m("p",["Venice System",m("br"),"Providing reliable tech since long time ago"])]),m("div",[m("span",{class:"footer-title"},"Jasa Layanan"),m("a",{class:"link link-hover"},"Merk"),m("a",{class:"link link-hover"},"Disain"),m("a",{class:"link link-hover"},"Pemasaran"),m("a",{class:"link link-hover"},"Periklanan")]),m("div",[m("span",{class:"footer-title"},"Company"),m("a",{class:"link link-hover"},"Tentang"),m("a",{class:"link link-hover"},"Contact"),m("a",{class:"link link-hover"},"Jobs"),m("a",{class:"link link-hover"},"Press kit")]),m("div",[m("span",{class:"footer-title"},"Legal"),m("a",{class:"link link-hover"},"Terms of use"),m("a",{class:"link link-hover"},"Privacy policy"),m("a",{class:"link link-hover"},"Cookie policy")])])},k={view:function(){var e="input input-bordered input-accent w-full max-w-md";return m("div",{class:"flex h-auto w-auto flex-col  items-center px-6 py-12 lg:px-8"},m("div",{class:"card w-1/3  bg-base-300 shadow-xl"},m("div",{class:"card-body"},[[m("div",{class:"md:mx-auto md:w-full md:max-w-md"},[m("img",{class:"mx-auto h-50 w-auto",src:"/img/ven.png",alt:"Your Company"}),m("div",{class:"max-w-md"},m("h1",{class:"text-2xl text-center font-bold"},"Pendaftaran Admin"))]),m("div",{class:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm"},[m("form",{class:"space-y-2",action:"#",method:"POST"},[m("div",{class:"form-control w-full max-w-md"},[m("label",{class:"label"},[m("span",{class:"label-text"},"Nama Lengkap")]),m("input",{class:e,id:"fullname","data-name":"Nama Lengkap",type:"text",required:"required",onblur:e=>{i.lockInput(e,"Nama Lengkap harus diisi")}})]),m("div",[m("label",{class:"label"},[m("span",{class:"label-text"},"User Name")]),m("input",{class:e,id:"username","data-name":"Nama User",type:"text",required:"required",onblur:e=>{i.lockInput(e,"Nama User harus diisi")}})]),m("div",[m("label",{class:"label"},[m("span",{class:"label-text"},"Alamat Email")]),m("div",{class:"mt-2"},m("input",{class:e,id:"email","data-name":"Email",type:"email",autocomplete:"email",required:"required",onblur:e=>{i.lockInput(e,"Alamat email harus diisi")}}))]),m("div",[m("label",{class:"label"},[m("span",{class:"label-text"},"Password")]),m("div",{class:"mt-2"},m("input",{class:e,id:"pwd","data-name":"Password",type:"password",required:"required",onblur:e=>{i.lockInput(e,"Password harus diisi")}}))]),m("div",[m("label",{class:"label"},[m("span",{class:"label-text"},"Konfirmasi Password")]),m("div",{class:"mt-2"},m("input",{class:e,id:"pwd2","data-name":"Konfirmasi Password",type:"password",required:"required",onblur:e=>{i.lockInput(e,"konfirmasi password harus diisi")}}))]),m("div",[m("label",{class:"label"},[m("span",{class:"label-text"},"Kode Akses")]),m("div",{class:"mt-2"},m("input",{class:e,id:"secret","data-name":"Kode Akses",type:"password",required:"required",onblur:e=>{i.lockInput(e,"Kode akses harus diisi")}}))])])])],m("div",{class:"card-actions justify-center"},m("button",{class:"btn btn-primary mt-2",onclick:()=>{var e=i.getValues();console.log(e);var a=[];for(const[l,s]of Object.entries(e[0]))if(""==s){var t=e[1][l];a.push(t)}if(a.length>0&&i.tell("warning",a.join(", ")+" belum diisi"),0==a.length)if(e[0].pwd!==e[0].pwd2)i.tell("warning","Konfirmasi password harus sama dengan password");else{var l=e[0];m.request({method:"POST",url:"./api/daftar",body:l}).then((e=>{console.log(e),0==e.success?i.tell("error",e.message):i.tell("success","User berhasil didaftarkan, Anda akan masuk halaman login",5e3,(()=>{m.route.set("/login"),m.redraw(),console.log("cb-test")}))}))}}},"Kirim"))])))}};function x(e,a){var t=i.getById(e.target.id);t&&(""==t.value.trim()?(t.classList.remove("input-accent"),t.classList.add("input-error"),i.tell("error",a,5e3,(()=>{})),t.focus()):(t.classList.add("input-accent"),t.classList.remove("input-error")))}var N=()=>{var e=i.getValues();console.log(e);var a=[];for(const[l,s]of Object.entries(e[0]))if(""==s){var t=e[1][l];a.push(t)}if(a.length>0&&i.tell("warning",a.join(", ")+" belum diisi"),0==a.length){console.log("process");var l=e[0];console.log(l),i.fpGen.then((e=>e.get())).then((e=>{const a=e.visitorId;Object.assign(l,{middlefinger2u:a}),m.request({method:"POST",url:"./api/login",body:l}).then((e=>{if(console.log(e),0==e.success)i.tell("error",e.message);else{console.log(e.message);var a=e.message.role.split(" "),t=[];a.map((e=>{t.push(e)}));var l={},s=new Date;Object.assign(l,{id:e.message.id,fullname:e.message.fullname,user:e.message.username,token:e.message.token,roles:t,expiry:s.getTime()+36e6}),i.setls(JSON.stringify(l)),i.tell("success","login berhasil",896,(()=>{console.log("checkadm"),i.checkAdm((()=>{console.log("check done")})),m.redraw(),m.route.set("/")}))}}))})).catch((e=>console.error(e)))}};const T={oncreate:()=>{i.loginBtnDisabled=!0,document.onkeydown=function(e){"Enter"==e.key&&N()},m.redraw()},view:function(){var e="input input-bordered input-accent w-full max-w-md";return m("div",{class:"flex h-auto w-auto flex-col  items-center px-6 py-12 lg:px-8"},m("div",{class:"card w-1/3  bg-base-300 shadow-xl"},m("div",{class:"card-body"},[[m("div",{class:"md:mx-auto md:w-full md:max-w-md"},[m("img",{class:"mx-auto h-50 w-auto",src:"/img/ven.png",alt:"Your Company"}),m("div",{class:"max-w-md"},m("h1",{class:"text-2xl text-center font-bold"},"Login"))]),m("div",{class:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm"},[m("form",{class:"space-y-2",action:"#",method:"POST"},[m("div",{class:"form-control w-full max-w-md"}),m("div",[m("label",{class:"label"},[m("span",{class:"label-text"},"User Name")]),m("input",{class:e,id:"username","data-name":"Nama User",type:"text",required:"required",onblur:e=>{x(e,"Nama User harus diisi")}})]),m("div",[m("label",{class:"label"},[m("span",{class:"label-text"},"Password")]),m("div",{class:"mt-2"},m("input",{class:e,id:"pwd","data-name":"Password",type:"password",required:"required",onblur:e=>{x(e,"Password harus diisi")}}))])])])],m("div",{class:"card-actions justify-center"},m("button",{class:"btn btn-primary mt-2",onclick:()=>N()},"Login"))])))}};var A={bodykeg:null,modal:null,addKeg:(e,a)=>{console.log("addKeg called"),i.getById("modalicious");var t=i.gForm("Kegiatan Baru","Kode dan Nama wajib diisi",[{type:"text",label:"Kode Kegiatan",id:"kode",dataMsg:"Kode Kegiatan",required:!0,col:6,colstart:1,val:null},{type:"text",label:"Nama Kegiatan",id:"nama",dataMsg:"Nama Kegiatan",required:!0,col:6,colstart:1,val:null}],(()=>{i.closeMdl()}),(t=>{var l=i.getValues();if(console.log(l),l){var s=l[0];s.kode=a+"."+s.kode,Object.assign(s,{pemda_ref:e});var o={method:"get",json:{kode:s.kode},tableName:"kegModel"};i.comm(o,(()=>{if(console.log(i.dataReturn),0==i.dataReturn.success){var e={method:"create",tableName:"kegModel",json:s};i.comm(e,(()=>{0==i.dataReturn.success?i.tell("error","gagal menyimpan data Kegiatan",3500):i.tell("success","data Kegiatan berhasil disimpan",2e3,(()=>{i.closeMdl(),A.getData((()=>A.showAkor(a)))}))}))}else i.tell("error","Kode Kegiatan sudah digunakan",3500)}))}}));A.modal=i.makeModalToo(m({view:()=>t})),i.tunda((()=>i.showModal()),250)},pemdaAkorCr:(e,a,t)=>{var l=[[{c:e.no+".",d:{width:"50px"}},{c:e.kode,r:{id:e._id},d:{width:"100px",class:"text-accent-focus italic"}},{c:e.nama,d:{class:"text-accent-focus italic"}}]],s=i.gTab("pemtab"+e._id,{body:l},"table-fixed border-spacing-0.5 border-separate ");return[m("div",{class:"collapse collapse-arrow border border-base-300"},[m("input",{type:"radio",name:"nve",checked:t==e.kode&&"checked"}),m("div",{class:"collapse-title text-xl font-medium"},s),a])]},showAkor:e=>{console.log("showAkor called",e);var a=[];null!=A.allData&&(A.allData=i.customSort(A.allData,"kode"),A.allData.forEach(((t,l)=>{var s,o;Object.assign(t,{no:l+1}),t.kegiatan.length>0?A.bodyKegCr(t.kegiatan,(()=>{s=A.kegList(t._id,t.kode,t.nama)})):s=[m("span","Pemda "+t.nama+" belum memiliki kegiatan"),m("button",{class:"btn btn-success btn-sm mt-3",onclick:()=>{A.addKeg(t._id,t.kode)}},m("span",{class:"icon w-8"},m("i",{class:"fa-solid fa-file-circle-plus"})))],a.push(A.pemdaAkorCr(t,(o=m("div",{class:"flex flex-col justify-center items-center"},s),m("div",{class:"collapse-content"},o)),e)),A.mainAkor=m({view:()=>a})})))},bodyKegCr:(e,a)=>{console.log(e);var t=[],l=0;e.forEach((e=>{var a=[{c:++l},{c:e.kode,r:{id:e._id}},{c:e.nama}];t.push(a)})),A.bodykeg=t,console.log(A.bodykeg),a()},kegList:(e,a,t)=>{var l=[],s=[{c:"Daftar Kegiatan Pemda "+t,d:{colspan:"3",class:"text-center font-bold text-lg  "}}];l.push(s),s=[{c:"No."},{c:"Kode Kegiatan"},{c:"Nama Kegiatan",r:{class:"font-black "}}],l.push(s);var o=null==A.bodykeg||0==A.bodykeg?[[{c:"Data masih kosong",d:{colspan:"3",class:"text-center  "}}]]:A.bodykeg;console.log(o);var n=[];return s=[{d:{colspan:3},c:m("p",{class:"buttons text-center"},[m("button",{class:"btn btn-success btn-sm",onclick:()=>{null==A.bodykeg?i.tell("warning","still loading",2500):A.addKeg(e,a)}},m("span",{class:"icon w-8"},m("i",{class:"fa-solid fa-file-circle-plus"}))),m("button",{class:"btn btn-warning btn-sm ml-1",onclick:()=>{}},m("span",{class:"icon w-8"},m("i",{class:"fa-solid fa-folder-open"}))),m("button",{class:"btn btn-error btn-sm ml-1"},m("span",{class:"w-8"},m("i",{class:"fas fa-trash"})))])}],n.push(s),m("div",{class:"preview border-base-300 bg-base-100 rounded-b-box rounded-tr-box flex min-h-[6rem] min-w-[36rem] max-w-4xl flex-wrap items-center justify-center gap-2 overflow-x-hidden border bg-cover bg-top p-4"},i.gTab("tab"+e,{title:l,body:o,bandeng:n}))},pemdaList:null,allData:null,getData:e=>{i.comm({method:"getAll",tableName:"pemdaModel"},(()=>{if(0!==i.dataReturn.success){A.pemdaList=[...i.dataReturn.message],A.allData=[];var a=0;A.pemdaList.forEach((t=>{a++;var l={method:"get",tableName:"kegModel",json:{pemda_ref:t._id}};i.comm(l,(()=>{var l;0!=i.dataReturn.success?(l=[...i.dataReturn.message],Object.assign(t,{kegiatan:l})):Object.assign(t,{kegiatan:[]}),A.allData.push(t),a==A.pemdaList.length&&e&&e()}))}))}else i.tell("warning","Silakan isi data Pemda terlebih dahulu",2222,(()=>{m.route.set("/pemda")}))}))},mainAkor:null,oninit:()=>{A.getData((()=>A.showAkor()))},oncreate:()=>{A.modal=i.makeModal()},view:()=>[m("div",{class:"text-3xl font-bold text-center mt-6"},"Solusi Teknologi Informasi"),m("p",{class:"text-2xl mb-4 text-center "},"Master Kegiatan"),A.allData?A.mainAkor:m("div",{class:"flex justify-center items-center my-3"},m("span",{class:"loading loading-spinner  loading-xl"})),A.modal]};const M=A;var P,D={body:null,modal:null,taList:()=>{var e=[],a=[{c:"Daftar Tenaga Ahli ",d:{colspan:"4",class:"text-center font-bold text-lg bg-base-200"}}];e.push(a),a=[{c:"No."},{c:"NIK"},{c:"Nama Tenaga Ahli",r:{class:"font-black "}},{c:"Nomor Kontak"}],e.push(a);var t=null==D.body||0==D.body?[[{c:"Data masih kosong",d:{colspan:"4",class:"text-center  "}}]]:D.body,l=[];a=[{d:{colspan:4},c:m("p",{class:"buttons text-center"},[m("button",{class:"btn btn-success btn-sm",onclick:()=>{null==D.body?i.tell("warning","still loading",2500):i.showModal()}},m("span",{class:"icon w-8"},m("i",{class:"fa-solid fa-file-circle-plus"}))),m("button",{class:"btn btn-warning btn-sm ml-1",onclick:()=>{}},m("span",{class:"icon w-8"},m("i",{class:"fa-solid fa-folder-open"}))),m("button",{class:"btn btn-error btn-sm ml-1"},m("span",{class:"w-8"},m("i",{class:"fas fa-trash"})))])}],l.push(a),D.tabelPemda=m({view:()=>i.gTab("taList",{title:e,body:t,bandeng:l})})},addTA:()=>{var e=i.gForm("Entry Tenaga Ahli","Semua field wajib diisi",[{type:"number",label:"NIK",id:"kode",dataMsg:"NIK",required:!0,col:6,colstart:1,val:null},{type:"text",label:"Nama Tenaga Ahli",id:"nama",dataMsg:"Nama Tenaga Ahli",required:!0,col:6,colstart:1,val:null},{type:"tel",label:"Contact Number",id:"contact",dataMsg:"Contact Number",required:!0,col:6,colstart:1,val:null}],(()=>{P.close()}),(e=>{var a=i.getValues();if(console.log(a),a){var t=a[0],l={method:"get",json:{kode:t.kode},tableName:"taModel"};console.log(t);var s,o=t.contact;/[a-zA-Z]/g.test(o)?i.tell("error","No telepon mengandung huruf",1233):s=!0,console.log(s),s&&i.comm(l,(()=>{if(console.log(i.dataReturn),0==i.dataReturn.success){var e={method:"create",tableName:"taModel",json:t};i.comm(e,(()=>{0==i.dataReturn.success?i.tell("error","gagal menyimpan data Tenaga Ahli",3500):i.tell("success","data Tenaga Ahli berhasil disimpan",2e3,(()=>{P.close(),D.showTab()}))}))}else i.tell("error","NIK sudah terdaftar",3500)}))}}));return i.makeModalToo(m({view:()=>e}))},showTab:()=>{D.body=[[{c:"LOADING ... ",d:{colspan:"3",class:"text-center font-bold "}}]],m.redraw(),i.comm({method:"getAll",tableName:"taModel"},(()=>{if(console.log(i.dataReturn),P=i.getById("modalicious"),0==i.dataReturn.success)D.body=!1;else{var e=[],a=0;i.dataReturn.message.forEach((t=>{var l=[{c:++a},{c:t.kode,r:{id:t._id}},{c:t.nama},{c:t.contact}];e.push(l)})),D.body=e}D.taList()}))},tabelPemda:null,oninit:()=>{D.showTab()},oncreate:()=>{D.modal=D.addTA()},view:()=>[m("div",{class:"text-3xl font-bold text-center mt-6"},"Solusi Teknologi Informasi"),m("p",{class:"text-2xl mb-4 text-center "},"Daftar Tenaga Ahli"),m("div",{class:"flex justify-center items-center my-6"},m("div",{class:"preview border-base-300 bg-base-100 rounded-b-box rounded-tr-box flex min-h-[6rem] min-w-[36rem] max-w-4xl flex-wrap items-center justify-center gap-2 overflow-x-hidden border bg-cover bg-top p-4"},D.tabelPemda?D.tabelPemda:m("div",{class:"flex justify-center items-center my-3"},m("span",{class:"loading loading-spinner  loading-xl"})))),D.modal]};const j=D;var S,B={body:null,modal:null,taList:()=>{var e=[],a=[{c:"Daftar Tenaga Ahli ",d:{colspan:"4",class:"text-center font-bold text-lg bg-base-200"}}];e.push(a),a=[{c:"No."},{c:"NIK"},{c:"Nama Tenaga Ahli",r:{class:"font-black "}},{c:"Nomor Kontak"}],e.push(a);var t=null==B.body||0==B.body?[[{c:"Data masih kosong",d:{colspan:"4",class:"text-center  "}}]]:B.body,l=[];a=[{d:{colspan:4},c:m("p",{class:"buttons text-center"},[m("button",{class:"btn btn-success btn-sm",onclick:()=>{null==B.body?i.tell("warning","still loading",2500):i.showModal()}},m("span",{class:"icon w-8"},m("i",{class:"fa-solid fa-file-circle-plus"}))),m("button",{class:"btn btn-warning btn-sm ml-1",onclick:()=>{}},m("span",{class:"icon w-8"},m("i",{class:"fa-solid fa-folder-open"}))),m("button",{class:"btn btn-error btn-sm ml-1"},m("span",{class:"w-8"},m("i",{class:"fas fa-trash"})))])}],l.push(a),B.tabelPemda=m({view:()=>i.gTab("taList",{title:e,body:t,bandeng:l})})},addTA:()=>{var e=i.gForm("Entry Tenaga Ahli","Semua field wajib diisi",[{type:"number",label:"NIK",id:"kode",dataMsg:"NIK",required:!0,col:6,colstart:1,val:null},{type:"text",label:"Nama Tenaga Ahli",id:"nama",dataMsg:"Nama Tenaga Ahli",required:!0,col:6,colstart:1,val:null},{type:"tel",label:"Contact Number",id:"contact",dataMsg:"Contact Number",required:!0,col:6,colstart:1,val:null}],(()=>{S.close()}),(e=>{var a=i.getValues();if(console.log(a),a){var t=a[0],l={method:"get",json:{kode:t.kode},tableName:"taModel"};console.log(t);var s,o=t.contact;/[a-zA-Z]/g.test(o)?i.tell("error","No telepon mengandung huruf",1233):s=!0,console.log(s),s&&i.comm(l,(()=>{if(console.log(i.dataReturn),0==i.dataReturn.success){var e={method:"create",tableName:"taModel",json:t};i.comm(e,(()=>{0==i.dataReturn.success?i.tell("error","gagal menyimpan data Penugasan",3500):i.tell("success","data Penugasan berhasil disimpan",2e3,(()=>{S.close(),B.showTab()}))}))}else i.tell("error","NIK sudah terdaftar",3500)}))}}));return i.makeModalToo(m({view:()=>e}))},showTab:()=>{B.body=[[{c:"LOADING ... ",d:{colspan:"3",class:"text-center font-bold "}}]],m.redraw(),i.comm({method:"getAll",tableName:"taModel"},(()=>{if(console.log(i.dataReturn),S=i.getById("modalicious"),0==i.dataReturn.success)B.body=!1;else{var e=[],a=0;i.dataReturn.message.forEach((t=>{var l=[{c:++a},{c:t.kode,r:{id:t._id}},{c:t.nama},{c:t.contact}];e.push(l)})),B.body=e}B.taList()}))},tabelPemda:null,pemdaList:null,oneTwoLvlData:null,getData:e=>{i.comm({method:"getAll",tableName:"pemdaModel"},(()=>{if(0!==i.dataReturn.success){B.pemdaList=[...i.dataReturn.message],B.oneTwoLvlData=[];var a=0;B.pemdaList.forEach((t=>{a++;var l={method:"get",tableName:"kegModel",json:{pemda_ref:t._id}};i.comm(l,(()=>{var l;0!=i.dataReturn.success?(l=[...i.dataReturn.message],Object.assign(t,{kegiatan:l})):(Object.assign(t,{kegiatan:[]}),i.tell("warning","mohon lengkapi data kegiatan untuk Pemda "+t.nama+" dulu",1650,(()=>m.route.set("/kegiatan")))),B.oneTwoLvlData.push(t),a==B.pemdaList.length&&e&&e()}))}))}else i.tell("warning","Silakan isi data Pemda terlebih dahulu",2222,(()=>{m.route.set("/pemda")}))}))},oninit:()=>{B.getData((()=>console.log(B.oneTwoLvlData)))},oncreate:()=>{B.modal=B.addTA()},view:()=>[m("div",{class:"text-3xl font-bold text-center mt-6"},"Solusi Teknologi Informasi"),m("p",{class:"text-2xl mb-4 text-center "},"Penugasan Tenaga Ahli"),m("div",{class:"flex justify-center items-center my-6"},m("div",{class:"preview border-base-300 bg-base-100 rounded-b-box rounded-tr-box flex min-h-[6rem] min-w-[36rem] max-w-4xl flex-wrap items-center justify-center gap-2 overflow-x-hidden border bg-cover bg-top p-4"},B.tabelPemda?B.tabelPemda:m("div",{class:"flex justify-center items-center my-3"},m("span",{class:"loading loading-spinner  loading-xl"})))),B.modal]};const I=B;var L={oninit:()=>{},content:[m("p",{class:"text-3xl font-bold"},"Daftar Karyawan")],view:()=>i.header(L.content)};const K=L;console.log("loaded index");var R={oninit:()=>{i.checkAdm(),m.mount(i.getById("nav"),w),m.mount(i.getById("footer"),y)},onupdate:()=>{i.checkAdm()},view:e=>m("div",e.children)},E="SISTA";m.route(i.getById("content"),"/",{"/":{render:()=>m(R,m(v)),onmatch:()=>{document.title="DashBoard - "+E}},"/noway":{render:()=>m(R,m(k)),onmatch:()=>{document.title="Noway - "+E}},"/login":{render:()=>m(R,m(T)),onmatch:()=>{document.title="Login - "+E}},"/pemda":{render:()=>m(R,m(u)),onmatch:()=>{document.title="Daftar Pemerintah Daerah - "+E}},"/kegiatan":{render:()=>m(R,m(M)),onmatch:()=>{document.title="Daftar Kegiatan - "+E}},"/ta":{render:()=>m(R,m(j)),onmatch:()=>{document.title="Daftar Tenaga Ahli - "+E}},"/task":{render:()=>m(R,m(I)),onmatch:()=>{document.title="Penugasan Tenaga Ahli - "+E}},"/md_employees":{render:()=>m(R,m(K)),onmatch:()=>{document.title="Master Data: Employees - "+E}},"/userlist":{render:()=>m(R,m(userlist)),onmatch:()=>{document.title="User Management - "+E}},"/ulist_det/:opd":{render:()=>m(R,m(ulist_det)),onmatch:()=>{document.title="User Management - "+E}},"/mopd":{render:()=>m(R,m(mopd)),onmatch:()=>{document.title="Manajemen Organisasi Perangkat Daerah - "+E}},"/mnews":{render:()=>m(R,m(mnews)),onmatch:()=>{document.title="Manajemen Berita - "+E}},"/reports":{render:()=>m(R,m(reports)),onmatch:()=>{document.title="Pelaporan - "+E}},"/playground":{render:()=>m(R,m(playground)),onmatch:()=>{document.title="Playground - "+E}},"/admin":{render:()=>{window.location.href="/admin"},onmatch:()=>{document.title="Playground - "+E}}})})();